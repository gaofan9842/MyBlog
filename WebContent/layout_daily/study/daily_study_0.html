<!DOCTYPE html>
<html lang="en">
<head>
<link rel="shortcut icon" href="../../img/URLpicture.jpg" />
     <meta http-equiv="Content-Language" content="zh-cn">; 
<meta http-equiv="Content-Type" content="text/html; charset=GB2312">; 
   <!--  <meta http-equiv="content-type" content="text/html; charset=utf-8">  -->
    <meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="renderer" content="webkit" />
    <title>比特币：一种点对点电子货币系统（笔记）</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
      <link href="../../css/base2.css" rel="stylesheet" type="text/css">
    <link href="../../css/base.css" rel="stylesheet" type="text/css">
    <script src="../../js/jquery-1.8.3.min.js" type="text/javascript"></script>
    <script src="../../js/base.js" type="text/javascript"></script>
    <script src="../../js/jquery.slides.min.js" type="text/javascript"></script>
</head>

<body>

<div class="head_box">
   <div class="header">
        <div class="header_logo">
            <a href="http://49.233.155.20/MyBlog/index.html"><h2>高燔の博客|</h2><h4>天行健,君子自强不息</h4></a>
        </div>
        <div class="header_nav">
            <ul class="clearfix">
               <!--   <li><a href="#">转载文章分享</a></li>-->
                <li><a href="http://49.233.155.20/MyBlog/index.html">首页</a>
               
                <li class="have_second">
                    <a style="color:#3a76bf; font-size:20px; font-weight: bold;" href="http://49.233.155.20/MyBlog/trans_list.html">转载文章分享</a>
                    
                   <ul class="nav_second">
                      
                        <li><a href="http://49.233.155.20/MyBlog/trans_java_list.html">JAVA</a></li>
                        <li><a href="http://49.233.155.20/MyBlog/trans_blockchain_list.html">区块链技术</a></li>
                           <li><a href="http://49.233.155.20/MyBlog/trans_computer_list.html">计算机基础知识</a></li>
                   
                    </ul>
                     
                </li>
                <li class="have_second">
                    <a href="http://49.233.155.20/MyBlog/daily_list.html">日常随笔分享</a>
                    
                   <ul class="nav_second">
                        <i></i>
                        <li><a href="http://49.233.155.20/MyBlog/study_daily_list.html">学习笔记</a></li>
                        <li><a href="http://49.233.155.20/MyBlog/article_daily_list.html">随笔文章</a></li>
                        <li><a href="http://49.233.155.20/MyBlog/debug_daily_list.html">debug记录</a></li>
                       <!--   <li><a href="#">Jquery笔记</a></li>  -->
                    </ul>
                     
                </li>
                <li><a href="http://49.233.155.20/MyBlog/list.html">原创博文分享</a></li>
                <li><a href="http://49.233.155.20/MyBlog/about_me.html">关于我</a></li>
                 <li><a href="http://49.233.155.20/MyBlog/reply.jsp">留言墙</a></li>
            </ul>
        </div>
       
       <!--  
        <div class="header_search">
            <a href="#" class="header_search_btn">
                <!--<img src="img/search.png">
                <i></i>
            </a>
        </div>

        <div class="header_nav_small_btn">
            <span class="small_btn"></span>
        </div>
--> 
    </div>

</div>

<div class="nav_hidden_zhanwei"></div>

<div class="search_box">
    <div class="search">
    <form name="searchform" class="search_form" method="post" action="[!--news.url--]e/search/index.php" target="_blank">
        <input type="text" class="search_text" name="keyboard" placeholder="输入关键字点击搜索">
        <input type="hidden" name="tbname" value="news">
        <input type="hidden" name="show" value="title">
        <input type="hidden" name="tempid" value="1">
        <input type="submit" class="search_btn" value="搜索一下">
    </form>
    </div>
</div>




<div class="article_box clearfix">



        <div class="left">



            <div class="article_content_box clearfix">

                <div class="article_article_title">
                    <h3>学习笔记
                        <span>您当前的位置：<a href="http://49.233.155.20/MyBlog/index.html">首页></a> <a href="http://49.233.155.20/MyBlog/daily_list.html">日常随笔></a><a href="http://49.233.155.20/MyBlog/study_daily_list.html">学习笔记></a><a href="#">比特币：一种点对点电子货币系统</a></span>
                    </h3>
                </div>


  				<div class="article_article_title">
		                <h3>
		                 <span> <a href="#">下一篇：暂无</a> </span>
		                    <span> <a href="#">上一篇：暂无 &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp </a></span>
		                 </h3>
                 
 				   </div>


                <h3 class="article_content_title">比特币：一种点对点电子货币系统（笔记）</h3>
                <div class="article_author_count_box clearfix">
                    <i class="article_author_img" title="琢也不称器"><a target="_blank" href="../../img/self.png"> <img src="../../img/self.png"></a></i>
                    <p>随笔时间：2019-11-02</p>
                </div>
                
                
                <div class="article_info">
                    <p>
                    	<b>随笔说明&nbsp;&nbsp;</b>
                    	本随笔内容为博主原创，可自由转载，转载请说明出处。尊重版权，从程序猿做起！ </p>
                   	<p>本文地址：<a target="_blank" href="http://49.233.155.20/MyBlog/layout_daily/study/daily_study_0.html">http://49.233.155.20/MyBlog/layout_daily/study/daily_study_0.html</a>  </p>
                  
                </div>
                
                
                <div class="article_content">
 
 <p>今天学习区块链的时候接触到了2008年中本聪关于比特币构想论文的中文版。之前，学习区块链或者比特币的一些知识基本都是从各个博客或者公众号上学习，还没有真正接触过中本聪的论文，该篇论文已经被翻译为各种语言。足以体现其重要性，并且我个人感觉这篇论文并没有那么晦涩难懂，大部分内容还是比较好理解的，所以以学习随笔的方式摘抄部分中文版论文。<a target="_blank" href="https://bitcoin.org/files/bitcoin-paper/bitcoin_zh_cn.pdf">【点此查看论文全文】</a></p>
<br/><p><strong><h2>论文题目：比特币：一种点对点电子货币系统</h2></strong></p>
<p>&nbsp;</p>
<br/>
<p><strong><h2>1.简介</h2></strong></p><br/>
<p>互联网贸易已经变得几乎完全依赖金融机构作为可信任第三方来处理电子支付。尽管对于
大部分交易这种系统运行得足够好，但仍需忍受基于信任模型这个固有缺点。由于金融机
构不可避免的需要仲裁纠纷，完全的不可撤销交易实际是做不到的。仲裁成本增加了交易
成本，限制了最小实际交易额度从而杜绝了日常小额交易的可能性，而且由于不支持不可
撤销支付，对不可撤销服务进行支付将需要更大的成本。由于存在交易被撤销的可能性，
对于信任的需求将更广泛。商家必须警惕他们的客户，麻烦他们提供更多他本不必要的信
息。一定比例的欺诈被认为是不可避免的。虽可通过当面使用实物货币来避免这些成本及
支付的不确定性，但不存在不引入一个可信任方而能在通信通道上进行支付的机制。</p>
<p>我们需要的是一个基于密码学原理而不是信任的电子支付系统，该系统允许任何有交
易意愿的双方能直接交易而不需要一个可信任第三方。交易在计算上的不可撤销将保护卖
家不被欺诈，用来保护买家的程序化合约机制也应该较容易实现。在这篇论文中，我们提
出一种使用点对点分布式时间戳服务器为基于时间的交易序列生成计算上的证据来解决双
重支付问题的方案。只要诚实节点集体控制的 CPU 算力大于每一个合作攻击节点群的
CPU 算力，这个系统就是安全的。</p><br/>
<p><strong><h2>2.交易</h2></strong></p><br/>
<p>我们定义一枚电子货币就是一条数字签名链。每个拥有者都通过将上一次交易和下一个拥
有者的公钥的哈希值的数字签名添加到此货币末尾的方式将这枚货币转移给下一个拥有者。
收款人可以通过验证数字签名来证实其为该链的所有者。</p>
<br/><a target="_blank" href="../../img_daily/study/article_0_0.png">
<img src="../../img_daily/study/article_0_0.png" alt="" title="" />
</a><br/>
<p>这里的问题是收款人不能证实拥有者之一没有对此货币进行双重支付。通常的做法是
引入一个可信任的中央机构或铸币厂来检查每笔交易是否存在双重支付。每笔交易之后，
都需要将这枚货币退回铸币厂以换取发行一枚新的货币，只有由铸币厂直接发行的货币才
能被确认没有被双重支付。这个方案的问题在于整个货币系统的命运都依赖于运营铸币厂
的公司，每笔交易都需要经过它们，就像银行一样。</p>
<p>我们需要一种能让收款人知道上一个货币拥有者没有对任何更早的交易签名的方法。
对我们来说，最早的那次交易是唯一有效的，所以我们不需要关心本次交易后面的双重支
付尝试。唯一能确保一笔交易不存在的方法是知晓所有之前的交易。在铸币厂模型中，铸
币厂知晓所有交易并能确定哪笔交易最先到达。在不引入一个可信任方的前提下要达到这
个目的，所有交易就必须公开发布 [1]，而且需要一个能让所有参与者对交易收到顺序的
单一历史达成共识的系统。收款人在每笔交易时，都需要多数节点认同此交易是最先收到
的证据。</p><br/>
<p><strong><h2>3.时间戳服务器</h2></strong></p><br/>
<p>我们提出的方案从时间戳服务器开始。时间戳服务器计算包含多个需要被打时间戳的数据
项的区块的哈希值并广泛地发布这个哈希值，就像在报纸或新闻组帖子里 [2-5]。时间戳
能证明要得到这个哈希值，显然这些数据当时一定是存在的。每个时间戳的哈希值都纳入
了上一个时间戳，形成一条链，后面的时间戳进一步增强前一个时间戳。</p><br/>
<br/><a target="_blank" href="../../img_daily/study/article_0_1.png">
<img src="../../img_daily/study/article_0_1.png" alt="" title="" />
</a><br/>
<p><strong><h2>4.工作量证明</h2></strong></p><br/>
<p>为了实现一个基于点对点的时间戳服务器，我们需要使用一个类似 Adam Back 提出的哈
希货币 [6] 的工作量证明系统，而不是报纸或新闻组帖子那样。工作量证明采取搜索一个
数，使得被哈希时，如使用 SHA-256，得到的哈希值以数个 0 比特开始。平均所需工作
量将随所需 0 比特呈指数级增长而验证却只需执行一次哈希。</p>
<p>对于我们的时间戳网络。我们通过在区块中加入一个随机数，直到使得区块的哈希值
满足所需 0 比特的数被找到的方式实现工作量证明。一旦消耗了 CPU 算力使区块满足了
工作量证明，那么除非重做这个工作否则就无法更改区块。由于后面的区块是链接在这个
区块后面的，改变这个区块将需要重做所有后面的区块。</p>
<br/><a target="_blank" href="../../img_daily/study/article_0_2.png">
<img src="../../img_daily/study/article_0_2.png" alt="" title="" />
</a><br/>
<p>工作量证明同时解决了在多数决定中确定投票方式的问题。如果多数是按 IP 地址投票
来决定，那么它将可能被能分配大量 IP 地址的人破坏。工作量证明本质上是按 CPU 投票。
最长的链代表了多数决定，因为有最大的计算工作量证明的精力投入到这条链上。如果多
数的 CPU 算力被诚实节点控制，诚实的链就会增长得最快并超过其他的竞争链。要修改
过去的某区块，攻击者必须重做这个区块以及其后的所有区块的工作量证明从而赶上并超
过诚实节点的工作。我们后面会证明随着后续的区块被添加一个更慢的攻击者赶上诚实节
点的概率将呈指数级递减。</p>
<p>为了抵消硬件运算速度的增加及平衡不同时期运行节点的利益，工作量证明的难度将
由移动平均数法来确定每小时生成区块的平均数。如果区块生成得过快，那么生成的难度
就会增加。</p><br/>
<p><strong><h2>5.网络</h2></strong></p><br/>
<p>运行网络的步骤如下：
1) 新交易向所有节点广播。
2) 每个节点将新交易收集到一个区块。
3) 每个节点为它的区块寻找工作量证明。
4) 当一个节点找到了工作量证明，就向所有节点广播这个区块。
5) 节点只有在区块内所有交易都是有效的且之前没有被支付的情况下接收这个区块。
6) 节点通过使用这个区块的哈希值作为上一个哈希值在链中创建下一个区块的方式
表示对这个区块的接受。</p>
<p>节点总是认为最长的链为正确的并持续致力于延长它。如果两个节点同时广播了不同
的下一个区块，有些节点可能先收到其中一个而其他节点先收到另一个。这种情况，节点
基于他们收到的第一个区块工作，但是也保存另一个分支以防它变为更长的链。当下一个
工作量证明被找到后僵局就会被打破从而其中一个分支变得更长；在另一个分支上工作的
节点将切换到更长的链上来。</p>
<p>新交易的广播不必到达所有的节点。只要到达一些节点，不久就会进入到一个区块。
区块广播也是能容忍消息丢失的。如果一个节点没有收到某个区块，它将在收到下一个区
块时发现它丢失了一个区块然后去请求这个区块。</p><br/>
<p><strong><h2>6.激励</h2></strong></p><br/>
<p>我们约定，区块中的第一笔交易是区块创建者开启一枚属于他的新货币的特殊的交易。这
就增加了对支持网络的节点的激励，并提供了一种分发货币到流通领域的方法，因为这里
没有中央机构来发行货币。新货币按固定量稳定地增加就像金矿矿工消耗资源并增加黄金
到流通领域一样。对我们而言，消耗的是 CPU 时间和电力</p>
<p>激励也可以由交易费充当。如果交易的输出值小于其输入值，差价就作为交易费被加
到包含此交易的区块的激励中。一旦预定量的货币进入了流通领域，激励将变为只含有交
易费，这样可以完全避免通货膨胀。 </p>
<p>激励会有助于鼓励节点保持诚实。如果一个贪心的攻击者有能力聚集比所有诚实节点
更多的 CPU 算力，他将面临是以骗回已付款的方式欺诈别人还是使用这些算力生成新货
币的抉择。他将发现遵守规则比破坏系统和他自己财产的有效性更有利，因为这些规则准
许他获得比所有其他人都多的新货币。</p><br/>
<p><strong><h2>7.回收磁盘空间</h2></strong></p><br/>
<p>一旦某个货币的最新交易已经被足够多的区块覆盖，这之前的支付交易就可以被丢弃以节
省磁盘空间。为便于此而又不破坏区块的哈希值，交易将被哈希进默克尔树 [7][2][5]，只
有根节点被纳入到区块的哈希值。老的区块可通过剪除树枝的方式被压缩。树枝内部的哈
希不需要被保存。</p>
<br/><a target="_blank" href="../../img_daily/study/article_0_3.png">
<img src="../../img_daily/study/article_0_3.png" alt="" title="" />
</a><br/>
<p>每个不包含交易的区块头大约是 80 bytes。如果每 10 分钟生成一个区块，每年生成
80 bytes * 6 * 24 * 365 = 4.2 MB，2008 年在售的典型计算机有 2 GB 内存，并且摩尔定
律预测目前每年内存增加 1.2 GB，所以就算区块头一定要存在内存里，存储也不是问题。</p><br/>
<p><strong><h2>8.简化的支付验证</h2></strong></p><br/>
<p>不运行一个完整的网络节点也是可以进行支付验证的。用户只需拥有一个最长工作量证明
链的区块头副本，他可以通过向其他网络节点查询以确认他拥有了最长的链，并获取链接
交易到给交易打时间戳区块的默克尔分支。虽然他自己不能核实这个交易，但如果交易已
经链接到到链中的某个位置，就说明一个网络节点已经接受了此交易，而其后追加的区块
进一步确认网络已经接受了它。</p>
<br/><a target="_blank" href="../../img_daily/study/article_0_4.png">
<img src="../../img_daily/study/article_0_4.png" alt="" title="" />
</a><br/>
<p>同样地，只要诚实节点控制着网络这种简化验证就是可靠的，如果网络被攻击者控制
简化验证会变得比较脆弱。虽然网络节点可以验证他们自己的交易，但只要攻击者持续控
制网络那么这种简化的方法就可能被攻击者的伪造交易欺骗。一种对策是接受其他网络节
点发现一个无效区块时发出的警告，提醒用户软件下载整个区块和被警告的交易来检查一致性。为了更加独立的安全性以及更快的支付确认，收款频繁的公司可能仍需运行他们自
己的节点。</p><br/>
<p><strong><h2>9.合并和分割交易额</h2></strong></p><br/>
<p>尽管单独处理每个货币是可行的，但将一次转账按每一分拆成多次交易是笨拙的。为允许
交易额被分割和合并，交易将包含多个输入值和输出值。通常是一个从之前交易而得的较
大输入值或多个较小输入值的组合，以及最多两个输出值：一个作为支付，另一个作为找
零，如果有的话，退还给支付发送方。</p>
<br/><a target="_blank" href="../../img_daily/study/article_0_5.png">
<img src="../../img_daily/study/article_0_5.png" alt="" title="" />
</a><br/>
<p>注意这里的扇出，即一笔交易依赖数笔交易，这数笔交易又依赖更多的交易，在这里
是不存在问题的。永远不会需要获取一笔交易历史的完整独立副本。</p><br/>
<p><strong><h2>10.隐私</h2></strong></p><br/>
<p>传统的银行模型通过限制参与方和可信任第三方对信息的访问来达到一定级别的隐私。交
易必须要公开发布就不能使用这个方法，但隐私仍可在其他地方通过阻断信息流的方式来
保护：那就是保持公钥匿名。公众能看到有人正在发送一定量货币给其他人，但是不能将
交易关联到某个人。这和证券交易所发布的信息级别类似，每笔交易的时间和交易量，即
行情是公开的，但是不会显示交易双方是谁。</p>
<br/><a target="_blank" href="../../img_daily/study/article_0_6.png">
<img src="../../img_daily/study/article_0_6.png" alt="" title="" />
</a><br/>
<p>作为额外的防火墙，对每笔交易使用新密钥对可以防止他们被关联到一个共同的拥有
者。由于多输入值交易存在，有些关联仍不可避免，因为多输入值交易必然暴露其多个输
入是属于同一个拥有者的。风险就在于如果一个密钥的拥有者被暴露，关联性将暴露其他
属于同一个拥有者的交易。</p><br/>
<p><strong><h2>11.总结</h2></strong></p><br/>
<p>我们已经提出了一种不依赖信任的电子交易系统。我们从通用的数字签名货币体系开始，
这体系提供了强有力的所有权控制，但由于缺乏防止双重支付的方法而不完善。为解决这
个问题，我们提出一种使用工作量证明来记录公共交易历史的点对点网络，只要诚实节点
控制了多数的 CPU 算力，对于对攻击者，交易历史将很快变得在计算上不可更改。网络
因其结构简洁性而健壮。节点只需很少的协调就能同时工作。它们不需要被认证，因为信
息不会被发送到某个特殊的位置，只需被尽力传播。节点可以随时离开和重新加入网络，
只需接受最长的工作量证明链作为它们离开时发生事件的证据。节点使用 CPU 算力来投
票，通过致力于延长有效区块来表达对其接受，通过拒绝在无效区块上工作来表达对其抵
制。任何需要的规则和激励都可通过这个共识机制来加强。</p>
                    
                </div>



<!-- 
                <div class="article_like_box">
                    <a href="#">喜欢的话点个赞吧！</a>
                </div>

 -->
                <div class="article_prev_next_box">
                   
                    <a href="http://49.233.155.20/MyBlog/layout_trans/blockchain/trans_blockchain_article_0.html">上一篇：区块链入门教程</a>
                     <a >上一篇：暂无</a>
                </div>
            </div>

            <div class="article_like_article">
                <div class="article_article_title">
                    <h3>相关文章</h3>
                </div>
                <div class="article_like_list">
                <a >暂无</a>
                <a >暂无</a>
                <a >暂无</a>
                <a >暂无</a>
                <a >暂无</a>
                <a >暂无</a>
                </div>
            </div>

<!-- 
            <div class="pinglun_box">
                <div class="article_article_title">
                    <h3>文章评论</h3>
                </div>
            </div>
 -->
        </div>





        <div  class="right">
        
        
        
        
        
   

            <div class="right_box about_me_info">
                <div class="about_me_info_touxiang">
                    <i class="about_me_line"></i>
                    <a  target="_blank" href="../../img//self.png" >
                       <img src="../../img//self.png">
                 	</a>
                </div>
                <div>
                    <div class="about_me_text">
                       <h3>琢也不成器</h3>
                    <div>
                        <p>一个好汉三个帮，程序猿同样如此。</p>
                        <p>愿我历尽千帆，归来仍是少年。</p>
                     
                    </div>
                       
                    </div>
                </div>
            </div>
<!--本栏推荐-->
            <div class="right_box tuijian_moban">
                <h3>博文推荐</h3>
                <div>
                    <ul>
                        <li> <a href="#">【暂无】</a></li>
                        <li><a>【暂无】</a></li>
                        <li><a>【暂无】</a></li>
                        <li><a>【暂无】</a></li>
                        <li><a>【暂无】</a></li>
                        <li><a>【暂无】</a></li>
                    </ul>
                </div>
            </div>
<!--点击排行
            <div class="right_box tuijian_moban">
                <h3>点击排行</h3>
                <div>
                    <ul>
                        <li><a href="#">最新模板-律所类模板</a></li>
                        <li><a href="#">最新模板-律所类模板</a></li>
                        <li><a href="#">最新模板-律所类模板</a></li>
                        <li><a href="#">最新模板-律所类模板</a></li>
                        <li><a href="#">最新模板-律所类模板</a></li>
                        <li><a href="#">最新模板-律所类模板</a></li>
                    </ul>
                </div>
            </div>
            
            
            -->
<!--友情链接-->
            <div class="right_box youlian_list">
                <h3>大牛博主链接</h3>
                <div>
                    <ul>
                       <li><a href="https://www.liaoxuefeng.com/">【廖雪峰的官方网站】</a></li>
                        <li><a href="http://www.ruanyifeng.com/blog/">【阮一峰的网络日志】</a></li>
                        <li><a href="#">【暂无】</a></li>
                        <li><a href="#">【暂无】</a></li>
                        <li><a href="#">【暂无】</a></li>
                        <li><a href="#">【暂无】</a></li>
                    </ul>
                </div>
            </div>

<!--微信二维码部分-->
              <div class="self_erweima right_box">
                <h3>微信二维码</h3>
                <div>
                    <a  target="_blank" href="../../img//self_weixin_erweima.png" >
                       <img src="../../img//self_weixin_erweima.png">
                 	</a>
                    
                  
                </div>
            </div>

<!--qq二维码部分-->
            <div class="self_erweima right_box">
                <h3>QQ二维码</h3>
                <div>
                    <a  target="_blank" href="../../img//self_qq_erweima.png" >
                      <img src="../../img//self_qq_erweima.png">
                 	</a>
                    
                    
                </div>
            </div>

<!--知乎部分-->
            <div class="self_erweima right_box">
                <h3>知乎二维码</h3>
                <div>
                    <a  target="_blank" href="../../img//self_zhihu_erweima.png" >
                       <img src="../../img//self_zhihu_erweima.png">
                 	</a>
                   
                </div>
            </div>






        </div>












</div>



<div class="footer_box">
    <div class="footer clearfix">
         <div class="footer_img">
             <ul>
            <li>
                <a  target="_blank" href="../../img//self_qq_erweima.png" >
                      <img src="../../img//self_qq_erweima.png">
                </a>
                <span>我的qq</span>
            </li>
            <li>
               <a  target="_blank" href="../../img//self_weixin_erweima.png" >
                       <img src="../../img//self_weixin_erweima.png">
                 	</a>
                    
                <span>我的微信</span>
            </li>
             <li>
                 <a  target="_blank" href="../../img//self_zhihu_erweima.png" >
                       <img src="../../img//self_zhihu_erweima.png">
                 	</a>
                <span>我的知乎</span>
            </li>
        </ul>
        </div>
        <div class="footer_text">
             <p><i>站点声明：</i></p>
            <p>1、本站创建的目的以学习交流为基础，记录日常生活中遇到的点点滴滴。</p>
            <p>2、本站中所有分享、转载的文章只供个人学习研究使用，未经允许不得用于任何商业目的。</p>
            <p>3、本站所有原创文章均可转载，请注明出处，欢迎大家看到喜欢的文章帮忙转发。举报意见邮箱：347113619@qq.com</p>
        </div>
    </div>

</div>

</body>

</html>